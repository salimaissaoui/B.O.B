{
  "permissions": {
    "allow": [
      "Bash(npm test:*)",
      "Bash(node -c:*)",
      "Bash(npm run start:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nMajor optimizations and tree generation system refactor\n\nThis commit implements comprehensive optimizations and a complete\ntree generation system refactor with 100% test pass rate.\n\nPerformance Improvements:\n- Reduced LLM token usage by 43% \\(2,800 → 1,600 tokens\\)\n- Reduced blueprint prompt size by 39% \\(623 → 380 lines\\)\n- Lowered WorldEdit volume threshold from 8 to 4 blocks\n- Forced WorldEdit usage for all tree operations \\(10-50x faster\\)\n\nBug Fixes:\n- Fixed undefined dark_oak_planks material reference\n- Enhanced error handling with descriptive messages\n- Added comprehensive input validation across all stages\n- Improved optimization logging and debugging output\n\nTree Generation System:\n- Added 7 distinct tree types: oak, birch, spruce, jungle, willow, cherry, dark_oak\n- Removed unnatural geometric operations \\(we_sphere, we_cylinder\\)\n- Added ±20% randomization for natural appearance\n- Implemented adjective-based detail levels \\(simple/beautiful\\)\n- Added asymmetric canopy positioning for organic look\n- Auto-detection of tree type and detail level from prompts\n\nNew Features:\n- Tree type detection system \\(src/config/tree-types.js\\)\n- Randomization parameters for each tree archetype\n- Enhanced tree-specific prompts with characteristics\n- Debug logging for optimization tracking\n\nFiles Modified:\n- src/config/build-examples.js: Fixed material bug, improved examples\n- src/config/build-types.js: Added tree subtypes and guidance\n- src/config/tree-types.js: NEW - Complete tree archetype system\n- src/llm/prompts/blueprint.js: Optimized tree prompts, added variety\n- src/stages/1-design-planner.js: Added tree type detection\n- src/stages/3-blueprint-generator.js: Enhanced validation\n- src/stages/5-builder.js: Forced WorldEdit for trees, lowered threshold\n\nTest Results:\n✅ All 136 tests passing\n✅ No breaking changes\n✅ Backward compatible\n\nDocumentation:\n- OPTIMIZATION_SUMMARY.md: Complete optimization record\n- TREE_REFACTOR_SUMMARY.md: Tree system refactor details\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(node --check:*)",
      "Bash(node test-generators.js:*)",
      "Bash(node test-enhanced-system.js)",
      "Bash(node:*)",
      "Bash(ls:*)",
      "Bash(npm start)",
      "Bash(test:*)",
      "Bash(npm install)",
      "Bash(tree:*)",
      "Bash(npm run test:core:*)",
      "Bash(git ls-files:*)",
      "Bash(done)",
      "Bash(npm run test:pixel-art:*)",
      "Bash(npm run test:validation:*)",
      "Bash(xargs:*)",
      "Bash(grep:*)",
      "Bash(npm run test:analyzer:*)",
      "Bash(npx jest --passWithNoTests)",
      "Bash(NODE_OPTIONS='--experimental-vm-modules' npx jest:*)"
    ]
  }
}
